version: "3"

services:
  ftp_storage:
    image: stilliard/pure-ftpd:hardened
    ports:
    - "21:21"
    - "30000-30009:30000-30009"
    command: "/run.sh -l puredb:/etc/pure-ftpd/pureftpd.pdb -E -j -P localhost -s -A -j -Z -H -4 -E -X -x"
    environment:
    - "FTP_USER_NAME=phpunit"
    - "FTP_USER_PASS=phpunit"
    - "FTP_USER_HOME=/home/phpunit"

  #  sftp_storage:
  #    image: mysql:latest
  #    restart: 'always'
  #    command: --default-authentication-plugin=mysql_native_password
  #    ports:
  #    - "13306:3306"
  #    environment:
  #      MYSQL_DATABASE: "spiral"
  #      MYSQL_ROOT_PASSWORD: "root"
  #      MYSQL_ROOT_HOST: "%"

  mongo_storage:
    image: mongo
    restart: 'always'
    ports:
    - "27017:27017"

  #s3_storage:
  #  image: adobe/s3mock
  #  restart: always
  #  ports:
  #  - "9190:9190"
  #  - "9191:9191"